{
    "id": "59662",
    "parentId": "59576",
    "title": "2. CRUD-команды для инкассационных заданий в процессинге",
    "description": "[B][SIZE=14pt]Цель[/SIZE][/B]\r\n\r\nОписана тут: [URL=https://bit.paypoint.pro/company/personal/user/300/tasks/task/view/59576/]https://bit.paypoint.pro/company/personal/user/300/tasks/task/view/59576/[/URL]\r\n\r\n[B][SIZE=14pt]Реализация[/SIZE][/B]\r\n\r\n[COLOR=#ee1d24][B]*[/B][/COLOR] - обязательный параметр\r\n\r\n[SIZE=14pt][B]1. Добавить команду создания заданий на инкассацию [COLOR=#9e005c][FONT=monospace]setparams_atm_task[/FONT][/COLOR][/B][/SIZE]\r\n\r\nПараметры:\r\n[LIST]\r\n[*][FONT=monospace][B]atm[COLOR=#ee1d24]*[/COLOR]                [/B][/FONT]- Идентификатор банкомата, для которого создается задание на инкассацию\r\n[*][FONT=monospace][B]type[COLOR=#ee1d24]*[/COLOR]               [/B][/FONT]- Тип задания (keyword-группа, см. п.1 род. задачи)\r\n[*][FONT=monospace][B]special_loading[COLOR=#ee1d24]*[/COLOR]    [/B][/FONT]- Срочность задания (1 - Да; 0 - Нет)\r\n[*][FONT=monospace][B]encashments[COLOR=#ee1d24]*[/COLOR]        [/B][/FONT]- Информация по инкассации кассет в формате JSON (формат см. тут: [URL=https://wiki.paypoint.pro/ru/development/web-projects/atm/upgraded_incass#%D0%B8%D0%BD%D0%BA%D0%B0%D1%81%D1%81%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%B0%D1%81%D1%81%D0%B5%D1%82-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82-%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%BE%D0%B2]https://wiki.paypoint.pro/ru/development/web-projects/atm/upgraded_incass#%D0%B8%D0%BD%D0%BA%D0%B0%D1%81%D1%81%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%B0%D1%81%D1%81%D0%B5%D1%82-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82-%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%BE%D0%B2[/URL])\r\n[*][FONT=monospace][B]comment             [/B][/FONT]- Комментарий к заданию\r\n[*][FONT=monospace][B]collectors_comment  [/B][/FONT]- Комментарий для инкассаторов\r\n[*][FONT=monospace][B]code                [/B][/FONT]- Идентификатор задания для редактирования\r\n[/LIST]\r\nПроверки:\r\n[LIST]\r\n[*]При [B]type = first_encashment [/B]необходимо проверять, что банкомат еще ни разу не инкассировался, находится на точке без кассет, или с пустыми кассетами\r\n[*]Необходимо контролировать ситуацию когда пытаются создать ПЕРВОЕ задание для данного банкомата, но [B]type != first_encashment[/B]\r\n[*]Идентификаторы кассет в [B]encashments[/B] нужно сверять по таблице [B][COLOR=#00aeef]atm_cassettes[/COLOR][/B], что они привязаны к инкассируемому банкомату\r\n[*]Редактировать полностью задание (например изменить кассеты в [B]encashments[/B]) можно только если [B]atm_tasks.task_status[/B] находится в ([B]created, approved, assets_loaded, assets_in_path[/B]), в остальных статусах можно только менять комментарий[COLOR=#ed008c][B] UPD[/B][/COLOR]\r\n[*]При первой инкассации должны быть обязательно проинкассированы все устройства и кассеты (т.е все кассеты должны быть указаны в [B]encashments[/B])\r\n[/LIST]\r\nПримечание:\r\n[LIST]\r\n[*]Кассета может инкассироваться, но в нее ничего не загружается (например для купюроприемников, реджектов, ретрактов в банкомат везется пустая кассета)\r\n[*]Информация по каждой инкассируемой кассете вносится в таблицу [B][COLOR=#00aeef]atm_encashments[/COLOR][/B] (связь таблиц через поле [B][COLOR=#00aeef]atm_tasks.code - atm_encashments.task_load[/COLOR][/B])\r\n[/LIST]\r\n[B][SIZE=14pt]2. Добавить команду получения списка заданий с инкассациями [COLOR=#9e005c][FONT=monospace]getlist_atm_tasks[/FONT][/COLOR][/SIZE][/B]\r\n\r\nПараметры:\r\n[LIST]\r\n[*][FONT=monospace][B]atm            [/B][/FONT]- Идентификатор банкомата, для которого необходимо получить список заданий на инкассацию\r\n[*][B][FONT=monospace]task_status    [/FONT][/B]- Статус задания (можно передавать сразу несколько через запятую)\r\n[*][B][FONT=monospace]dt_create_from [/FONT][/B]- Задание создано от (включительно)\r\n[*][B][FONT=monospace]dt_finish_to   [/FONT][/B]- Заданию присвоен конечный статус до (включительно)[B][COLOR=#ed008c] UPD[/COLOR][/B]\r\n[*][FONT=monospace][B]collector      [/B][/FONT]- Идентификатор инкассатора\r\n[/LIST]\r\nВ ответ на команду возвращать таблицу [FONT=monospace]tasks[/FONT]:\r\n[LIST]\r\n[*][FONT=monospace][B]code[/B]               [/FONT]- Идентификатор задания\r\n[*][FONT=monospace][B]atm[/B]                [/FONT]- Номер банкомата\r\n[*][FONT=monospace][B]type     [/B]          [/FONT]- Тип (Наименование)\r\n[*][FONT=monospace][B]status     [/B]        [/FONT]- Статус (Наименование)\r\n[*][FONT=monospace][B]sum_load           [/B][/FONT]- Сумма, загруженная в кассеты\r\n[*][B][FONT=monospace]sum_fact           [/FONT][/B]- Сумма фактически возвращенных остатков\r\n[*][FONT=monospace][B]dt_create[/B]          [/FONT]- Дата создания\r\n[*][FONT=monospace][B]dt_atm[/B]             [/FONT]- Дата загрузки кассет\r\n[*][FONT=monospace][B]dt_fact            [/B][/FONT]- Дата разноски/обновления остатков\r\n[*][FONT=monospace][B]dt_finish[/B]          [/FONT]- Дата финализации\r\n[*][FONT=monospace][B]special_loading    [/B][/FONT]- Срочная загрузка\r\n[*][FONT=monospace][B]comment[/B]            [/FONT]- Комментарий\r\n[*][FONT=monospace][B]collectors         [/B][/FONT]- Инкассаторы (Список имен через запятую)\r\n[*][FONT=monospace][B]collectors_comment[/B] [/FONT]- Комментарий для инкассаторов\r\n[*][FONT=monospace][B]atm_variance_info  [/B][/FONT]- Отклонение банкоматных счетчиков (вычисляемое поле, только для статусов [FONT=monospace][B]rest_*[/B][/FONT] и [FONT=monospace][B]closed_*[/B][/FONT]), см. ниже описание  [COLOR=#ed008c][B]UPD[/B][/COLOR]\r\n[*][FONT=monospace][B]fact_variance_info [/B][/FONT]- Отклонение фактических остатков  (вычисляемое поле, только для статусов [FONT=monospace][B]rest_calculated[/B][/FONT][FONT=monospace][B] [/B][/FONT]и [FONT=monospace][B]closed_variance[/B][/FONT])  [B][COLOR=#ed008c]UPD[/COLOR][/B]\r\n[/LIST]В ответ на команду присылать все данные из таблицы [COLOR=#00aeef][FONT=monospace][B]atm_tasks[/B][/FONT][/COLOR].\r\nПроверять, что вызвавший команду пользователь является владельцем банкомата, для которого запрашивается информация.\r\nЕсли банкомат не передан, то возвращать задания для всех банкоматов, принадлежащих пользователю.\r\n\r\nФормат [B][FONT=monospace]*_variance_info[/FONT][/B]:[CODE]код кассеты (название кассеты): сумма расхождения; ...[/CODE]Пример:[CODE]18 (Купюроприемник): +1000; 21 (Диспенсер верхняя): -4000[/CODE]Сумма расхождения вычисляется по формуле:[CODE]сумма банкомата - сумма сервера (для atm_variance_info)\r\nсумма факта - сумма сервера (для fact_variance_info)[/CODE]У суммы явно указывается знак (плюс или минус). Плюс говорит об излишке, минус о недосдаче.\r\n\r\n[B][SIZE=14pt]3. Добавить команду получения детальной информации о задании для инкассации [COLOR=#9e005c][FONT=monospace]getparams_atm_task[/FONT][/COLOR][/SIZE][/B]\r\n\r\nПараметры:\r\n[LIST]\r\n[*][FONT=monospace][B]code[COLOR=#ee1d24]*[/COLOR] [/B][/FONT]- Идентификатор задания, для которого запрашивает информация\r\n[/LIST]\r\nОтвет:\r\n[LIST]\r\n[*]В ответ на команду присылать все данные из таблицы [FONT=monospace][B][COLOR=#00aeef]atm_tasks[/COLOR][/B][/FONT].\r\n[*]А также таблицы [B][FONT=monospace]encashments_load[/FONT][/B][FONT=monospace] [/FONT]и [B][FONT=monospace]encashment_unload[/FONT][/B] со всеми полями из таблицы [B][COLOR=#00aeef][FONT=monospace]atm_encashments[/FONT][/COLOR][/B][FONT=monospace] [/FONT](связь [FONT=monospace]atm_tasks.code=atm_encashments.task_load [/FONT][FONT=monospace]и [/FONT][FONT=monospace]atm_tasks.code=atm_encashments.task_unload[/FONT][COLOR=#00aeef][FONT=monospace] [/FONT][/COLOR]cоответственно). \r\nТаблица [FONT=monospace]encashment_unload [/FONT]присылается только в случае если [FONT=monospace]atm_encashments.task_unload[/FONT] не NULL.\r\n[*]В дополнительных таблицах должны возвращаться параметры [B][FONT=monospace]server_count[/FONT][/B][FONT=monospace] [/FONT]и [B][FONT=monospace]server_sum[/FONT][/B][FONT=monospace] [/FONT](серверные счетчики, вычислять по таблице [B][COLOR=#00aeef][FONT=monospace]atm_encashment_movements[/FONT][/COLOR][/B])\r\n[/LIST]\r\nПримечание:\r\n[LIST]\r\n[*]Разрешить банкоматному ПО вызывать эту команду (для отображения интерфейса инкассаций).\r\n[/LIST]\r\n[B][SIZE=14pt]3.1 Добавить команду получения списка \"движений\" по инкассации [COLOR=#9e005c][FONT=monospace]getlist_atm_encashment_movements[/FONT][/COLOR][/SIZE][/B]\r\n\r\nПараметры:\r\n[LIST]\r\n[*][FONT=monospace][B]atm[COLOR=#ee1d24]*[/COLOR]       [/B][/FONT]- Идентификатор банкомата\r\n[*][FONT=monospace][B]cassette   [/B][/FONT]- Идентификатор кассеты\r\n[*][FONT=monospace][B]encashment [/B][/FONT]- Инкассация\r\n[/LIST]\r\nВ ответ на команду возвращать таблицу [FONT=monospace][B]encashment_movements[/B][/FONT][FONT=monospace][B] [/B][/FONT]со всеми полями из таблицы [B][COLOR=#00aeef][FONT=monospace]atm_encashment_movements[/FONT][/COLOR][/B].\r\n\r\n[B][SIZE=14pt]4. Добавить команду удаления задания на инкассацию [COLOR=#9e005c][FONT=monospace]delete_atm_task[/FONT][/COLOR][/SIZE][/B]\r\n\r\nПараметры:\r\n[LIST]\r\n[*][FONT=monospace][B]code[COLOR=#ee1d24]*[/COLOR] [/B][/FONT]- Идентификатор задания на инкассацию для удаления\r\n[/LIST]\r\nПроверки:\r\n[LIST]\r\n[*]Проверять, что банкомат принадлежит пользователю вызвавшему команду\r\n[*]Убедиться, что задание находится в одном из статусов ([B][COLOR=#00aeef][FONT=monospace]atm_tasks.task_status[/FONT][/COLOR][/B]): [B][FONT=monospace]created, approved, assets_loaded, assets_in_path[/FONT][/B] (иначе возвращать ошибку)\r\n[/LIST]\r\nПримечание:\r\n[LIST]\r\n[*]При успешном удалении задания, также удалять инкассации кассет для этого задания ([B][COLOR=#00aeef][FONT=monospace]atm_encashments[/FONT][/COLOR][/B])\r\n[*]Удаленные записи отправить в лог.\r\n[/LIST]\r\n[SIZE=15pt][B][SIZE=14pt]5. Добавить тесты для новых команд.[/SIZE][/B][/SIZE] \r\n\r\n",
    "mark": null,
    "priority": "1",
    "multitask": "N",
    "notViewed": "N",
    "replicate": "N",
    "stageId": "997",
    "createdBy": "300",
    "createdDate": "2024-10-07T11:38:44+03:00",
    "responsibleId": "300",
    "changedBy": "6",
    "changedDate": "2025-02-17T14:36:28+03:00",
    "statusChangedBy": "300",
    "closedBy": "300",
    "closedDate": "2024-11-13T14:42:57+03:00",
    "activityDate": "2025-02-17T14:36:32+03:00",
    "dateStart": null,
    "deadline": null,
    "startDatePlan": null,
    "endDatePlan": null,
    "guid": "{a6948c9b-9bee-4a27-bf25-bf315f1cdb88}",
    "xmlId": null,
    "commentsCount": "24",
    "serviceCommentsCount": "5",
    "allowChangeDeadline": "Y",
    "allowTimeTracking": "N",
    "taskControl": "N",
    "addInReport": "N",
    "forkedByTemplateId": null,
    "timeEstimate": "0",
    "timeSpentInLogs": null,
    "matchWorkTime": "N",
    "forumTopicId": "48878",
    "forumId": "11",
    "siteId": "s1",
    "subordinate": "N",
    "exchangeModified": null,
    "exchangeId": null,
    "outlookVersion": "44",
    "viewedDate": "2025-02-17T16:42:45+03:00",
    "sorting": null,
    "durationFact": null,
    "isMuted": "Y",
    "isPinned": "N",
    "isPinnedInGroup": "N",
    "flowId": null,
    "descriptionInBbcode": "Y",
    "status": "5",
    "statusChangedDate": "2024-11-13T14:42:57+03:00",
    "durationPlan": "0",
    "durationType": "days",
    "favorite": "N",
    "groupId": "264",
    "auditors": [
        "6",
        "16",
        "22",
        "320",
        "334"
    ],
    "accomplices": [],
    "checklist": {
        "34111": {
            "id": "34111",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34110",
            "title": "а банкомат будет оперировать алиасами кассет? - нет, см. комменты к тикету про девайсы",
            "sortIndex": "0",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "6",
            "toggledDate": "2024-10-16T09:43:45+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34073": {
            "id": "34073",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34072",
            "title": "вычислять серверные счетчики",
            "sortIndex": "0",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:50:29+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34066": {
            "id": "34066",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34065",
            "title": "обязательно добавить по статусу (можно передать несколько статусов)",
            "sortIndex": "0",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:31:00+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34062": {
            "id": "34062",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "json или команды для encashment - обсудить с Геной",
            "sortIndex": "0",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-08T11:23:22+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34061": {
            "id": "34061",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": 0,
            "title": "Чек-лист 1",
            "sortIndex": "0",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-08T11:51:46+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34112": {
            "id": "34112",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34110",
            "title": "прописать коды кейвордов для типов кассет и устройств",
            "sortIndex": "1",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "6",
            "toggledDate": "2024-10-16T08:37:32+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34110": {
            "id": "34110",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": 0,
            "title": "Ревью Маши",
            "sortIndex": "1",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "6",
            "toggledDate": "2024-10-16T11:01:43+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34067": {
            "id": "34067",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34065",
            "title": "можно добавить в список фильтры по дате - выводить те инкассации, которые любой датой попадают в заданный диапазон",
            "sortIndex": "1",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:31:00+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34063": {
            "id": "34063",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "при первой инкассации должны быть обязательно проинкассированы все устройства и кассеты",
            "sortIndex": "1",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:22:03+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34114": {
            "id": "34114",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34110",
            "title": "dt_fact -> dt_close",
            "sortIndex": "2",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "6",
            "toggledDate": "2024-10-16T08:30:01+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34068": {
            "id": "34068",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34065",
            "title": "на будущее можно добавить еще по икассатору",
            "sortIndex": "2",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:33:30+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34064": {
            "id": "34064",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "Необходимо контролировать ситуацию когда пытаются создать ПЕРВОЕ задание для данного банкомата, но task_type != first_encashment - и наоборот",
            "sortIndex": "2",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:23:34+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34166": {
            "id": "34166",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34110",
            "title": "не хватает названия кассеты",
            "sortIndex": "3",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "6",
            "toggledDate": "2024-10-21T09:43:06+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34065": {
            "id": "34065",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "фильтры",
            "sortIndex": "3",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:50:33+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34069": {
            "id": "34069",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "В ответ на команду возвращать таблицу task: - продумать типы и display (говорят что тип становится автоматом)",
            "sortIndex": "4",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-08T09:41:54+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34070": {
            "id": "34070",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "atm* - Идентификатор банкомата для которого необходимо получить список заданий на инкассацию - сделать необяз.",
            "sortIndex": "5",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:33:45+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34071": {
            "id": "34071",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "atm_encashment_movements - сделать отдельную команду getlist с фильтрами по банкомату (обяз.) и кассете, atm_encashment",
            "sortIndex": "6",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T15:00:35+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34072": {
            "id": "34072",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "atm_encashments - нужны 2 набора (и для task_load, и для task_unload)",
            "sortIndex": "7",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:36:19+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        },
        "34074": {
            "id": "34074",
            "taskId": "59662",
            "createdBy": "6",
            "parentId": "34061",
            "title": "при удалении убеждаться, что банкомат юзера",
            "sortIndex": "8",
            "isComplete": "Y",
            "isImportant": "N",
            "toggledBy": "300",
            "toggledDate": "2024-10-07T14:20:34+03:00",
            "ufChecklistFiles": false,
            "members": [],
            "attachments": [],
            "entityId": "59662",
            "action": {
                "modify": true,
                "remove": true,
                "toggle": true,
                "add": true,
                "addAccomplice": true
            }
        }
    },
    "group": {
        "id": "264",
        "name": "Функционал: Операции в Банкоматах",
        "opened": true,
        "membersCount": 7,
        "image": "/bitrix/images/socialnetwork/workgroup/bag.png",
        "additionalData": []
    },
    "creator": {
        "id": "300",
        "name": "Максим Стрельченко",
        "link": "/company/personal/user/300/",
        "icon": "/upload/resize_cache/main/64e/fligo0dyqb4d5xkac4mqoh84rccve1hp/58_58_2/avatar.png",
        "workPosition": ""
    },
    "responsible": {
        "id": "300",
        "name": "Максим Стрельченко",
        "link": "/company/personal/user/300/",
        "icon": "/upload/resize_cache/main/64e/fligo0dyqb4d5xkac4mqoh84rccve1hp/58_58_2/avatar.png",
        "workPosition": ""
    },
    "accomplicesData": [],
    "auditorsData": {
        "6": {
            "id": "6",
            "name": "Мария Новикова",
            "link": "/company/personal/user/6/",
            "icon": "/upload/resize_cache/main/ae9/ae92db16aa2bbfe365ba5cce481e4d24/58_58_2/TNriqB2zAv0.jpg",
            "workPosition": "CTO"
        },
        "16": {
            "id": "16",
            "name": "Андрей Кулаков",
            "link": "/company/personal/user/16/",
            "icon": "/upload/resize_cache/main/92d/3ogegrskf553uyj1m9bt6yx0338yluv5/58_58_2/image_2024-06-26_17_54_28.png",
            "workPosition": "Начальник подразделения C#"
        },
        "22": {
            "id": "22",
            "name": "Геннадий Ядров",
            "link": "/company/personal/user/22/",
            "icon": "/upload/resize_cache/main/d2a/d2ab604308fcf9448cb1808c889dc4f7/58_58_2/kernel_icon.png",
            "workPosition": "Teamlead Kernel"
        },
        "320": {
            "id": "320",
            "name": "Михаил Авраменко",
            "link": "/company/personal/user/320/",
            "icon": "/upload/resize_cache/main/eda/izticlfcur6oat4hlxs1idzpv6ompg64/58_58_2/avatar.png",
            "workPosition": "QA Teamlead"
        },
        "334": {
            "id": "334",
            "name": "Данил Кучерук",
            "link": "/company/personal/user/334/",
            "icon": "/upload/resize_cache/main/56e/0t6u1536ongbgljkmgqrdosrzlnzp9mc/58_58_2/photo_2024-12-23_20-13-07.png",
            "workPosition": ""
        }
    },
    "newCommentsCount": 0,
    "action": {
        "accept": false,
        "decline": false,
        "complete": false,
        "approve": false,
        "disapprove": false,
        "start": false,
        "pause": false,
        "delegate": false,
        "remove": true,
        "edit": true,
        "defer": false,
        "renew": true,
        "create": true,
        "changeDeadline": true,
        "checklistAddItems": true,
        "addFavorite": true,
        "deleteFavorite": false,
        "rate": true,
        "take": false,
        "edit.originator": false,
        "checklist.reorder": true,
        "elapsedtime.add": true,
        "dayplan.timer.toggle": false,
        "edit.plan": true,
        "checklist.add": true,
        "favorite.add": true,
        "favorite.delete": false
    },
    "checkListTree": {
        "nodeId": 0,
        "fields": {
            "id": null,
            "copiedId": null,
            "entityId": null,
            "userId": 334,
            "createdBy": null,
            "parentId": null,
            "title": "",
            "sortIndex": null,
            "displaySortIndex": "",
            "isComplete": false,
            "isImportant": false,
            "completedCount": 2,
            "members": [],
            "attachments": []
        },
        "action": [],
        "descendants": [
            {
                "nodeId": 1,
                "fields": {
                    "id": 34061,
                    "copiedId": null,
                    "entityId": 59662,
                    "userId": 334,
                    "createdBy": 6,
                    "parentId": 0,
                    "title": "Чек-лист 1",
                    "sortIndex": 0,
                    "displaySortIndex": "",
                    "isComplete": true,
                    "isImportant": false,
                    "completedCount": 9,
                    "members": [],
                    "attachments": []
                },
                "action": {
                    "modify": true,
                    "remove": true,
                    "toggle": true,
                    "add": true,
                    "addAccomplice": true
                },
                "descendants": [
                    {
                        "nodeId": 2,
                        "fields": {
                            "id": 34062,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "json или команды для encashment - обсудить с Геной",
                            "sortIndex": 0,
                            "displaySortIndex": "1",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 3,
                        "fields": {
                            "id": 34063,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "при первой инкассации должны быть обязательно проинкассированы все устройства и кассеты",
                            "sortIndex": 1,
                            "displaySortIndex": "2",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 4,
                        "fields": {
                            "id": 34064,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "Необходимо контролировать ситуацию когда пытаются создать ПЕРВОЕ задание для данного банкомата, но task_type != first_encashment - и наоборот",
                            "sortIndex": 2,
                            "displaySortIndex": "3",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 5,
                        "fields": {
                            "id": 34065,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "фильтры",
                            "sortIndex": 3,
                            "displaySortIndex": "4",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 3,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": [
                            {
                                "nodeId": 6,
                                "fields": {
                                    "id": 34066,
                                    "copiedId": null,
                                    "entityId": 59662,
                                    "userId": 334,
                                    "createdBy": 6,
                                    "parentId": 34065,
                                    "title": "обязательно добавить по статусу (можно передать несколько статусов)",
                                    "sortIndex": 0,
                                    "displaySortIndex": "4.1",
                                    "isComplete": true,
                                    "isImportant": false,
                                    "completedCount": 0,
                                    "members": [],
                                    "attachments": []
                                },
                                "action": {
                                    "modify": true,
                                    "remove": true,
                                    "toggle": true,
                                    "add": true,
                                    "addAccomplice": true
                                },
                                "descendants": []
                            },
                            {
                                "nodeId": 7,
                                "fields": {
                                    "id": 34067,
                                    "copiedId": null,
                                    "entityId": 59662,
                                    "userId": 334,
                                    "createdBy": 6,
                                    "parentId": 34065,
                                    "title": "можно добавить в список фильтры по дате - выводить те инкассации, которые любой датой попадают в заданный диапазон",
                                    "sortIndex": 1,
                                    "displaySortIndex": "4.2",
                                    "isComplete": true,
                                    "isImportant": false,
                                    "completedCount": 0,
                                    "members": [],
                                    "attachments": []
                                },
                                "action": {
                                    "modify": true,
                                    "remove": true,
                                    "toggle": true,
                                    "add": true,
                                    "addAccomplice": true
                                },
                                "descendants": []
                            },
                            {
                                "nodeId": 8,
                                "fields": {
                                    "id": 34068,
                                    "copiedId": null,
                                    "entityId": 59662,
                                    "userId": 334,
                                    "createdBy": 6,
                                    "parentId": 34065,
                                    "title": "на будущее можно добавить еще по икассатору",
                                    "sortIndex": 2,
                                    "displaySortIndex": "4.3",
                                    "isComplete": true,
                                    "isImportant": false,
                                    "completedCount": 0,
                                    "members": [],
                                    "attachments": []
                                },
                                "action": {
                                    "modify": true,
                                    "remove": true,
                                    "toggle": true,
                                    "add": true,
                                    "addAccomplice": true
                                },
                                "descendants": []
                            }
                        ]
                    },
                    {
                        "nodeId": 6,
                        "fields": {
                            "id": 34069,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "В ответ на команду возвращать таблицу task: - продумать типы и display (говорят что тип становится автоматом)",
                            "sortIndex": 4,
                            "displaySortIndex": "5",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 7,
                        "fields": {
                            "id": 34070,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "atm* - Идентификатор банкомата для которого необходимо получить список заданий на инкассацию - сделать необяз.",
                            "sortIndex": 5,
                            "displaySortIndex": "6",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 8,
                        "fields": {
                            "id": 34071,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "atm_encashment_movements - сделать отдельную команду getlist с фильтрами по банкомату (обяз.) и кассете, atm_encashment",
                            "sortIndex": 6,
                            "displaySortIndex": "7",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 9,
                        "fields": {
                            "id": 34072,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "atm_encashments - нужны 2 набора (и для task_load, и для task_unload)",
                            "sortIndex": 7,
                            "displaySortIndex": "8",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 1,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": [
                            {
                                "nodeId": 10,
                                "fields": {
                                    "id": 34073,
                                    "copiedId": null,
                                    "entityId": 59662,
                                    "userId": 334,
                                    "createdBy": 6,
                                    "parentId": 34072,
                                    "title": "вычислять серверные счетчики",
                                    "sortIndex": 0,
                                    "displaySortIndex": "8.1",
                                    "isComplete": true,
                                    "isImportant": false,
                                    "completedCount": 0,
                                    "members": [],
                                    "attachments": []
                                },
                                "action": {
                                    "modify": true,
                                    "remove": true,
                                    "toggle": true,
                                    "add": true,
                                    "addAccomplice": true
                                },
                                "descendants": []
                            }
                        ]
                    },
                    {
                        "nodeId": 10,
                        "fields": {
                            "id": 34074,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34061,
                            "title": "при удалении убеждаться, что банкомат юзера",
                            "sortIndex": 8,
                            "displaySortIndex": "9",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    }
                ]
            },
            {
                "nodeId": 2,
                "fields": {
                    "id": 34110,
                    "copiedId": null,
                    "entityId": 59662,
                    "userId": 334,
                    "createdBy": 6,
                    "parentId": 0,
                    "title": "Ревью Маши",
                    "sortIndex": 1,
                    "displaySortIndex": "",
                    "isComplete": true,
                    "isImportant": false,
                    "completedCount": 4,
                    "members": [],
                    "attachments": []
                },
                "action": {
                    "modify": true,
                    "remove": true,
                    "toggle": true,
                    "add": true,
                    "addAccomplice": true
                },
                "descendants": [
                    {
                        "nodeId": 3,
                        "fields": {
                            "id": 34111,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34110,
                            "title": "а банкомат будет оперировать алиасами кассет? - нет, см. комменты к тикету про девайсы",
                            "sortIndex": 0,
                            "displaySortIndex": "1",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 4,
                        "fields": {
                            "id": 34112,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34110,
                            "title": "прописать коды кейвордов для типов кассет и устройств",
                            "sortIndex": 1,
                            "displaySortIndex": "2",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 5,
                        "fields": {
                            "id": 34114,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34110,
                            "title": "dt_fact -> dt_close",
                            "sortIndex": 2,
                            "displaySortIndex": "3",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    },
                    {
                        "nodeId": 6,
                        "fields": {
                            "id": 34166,
                            "copiedId": null,
                            "entityId": 59662,
                            "userId": 334,
                            "createdBy": 6,
                            "parentId": 34110,
                            "title": "не хватает названия кассеты",
                            "sortIndex": 3,
                            "displaySortIndex": "4",
                            "isComplete": true,
                            "isImportant": false,
                            "completedCount": 0,
                            "members": [],
                            "attachments": []
                        },
                        "action": {
                            "modify": true,
                            "remove": true,
                            "toggle": true,
                            "add": true,
                            "addAccomplice": true
                        },
                        "descendants": []
                    }
                ]
            }
        ]
    },
    "checkListCanAdd": true
}